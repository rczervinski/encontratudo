<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Encontra Tudo - Transforme sua Loja</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
        }
        .hero {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 100px 20px;
            text-align: center;
        }
        .hero h1 { font-size: 3.5rem; margin-bottom: 20px; }
        .hero p { font-size: 1.5rem; margin-bottom: 30px; opacity: 0.9; }
        .cta-button {
            display: inline-block;
            background: white;
            color: #667eea;
            padding: 20px 50px;
            font-size: 1.3rem;
            font-weight: bold;
            border-radius: 50px;
            text-decoration: none;
            transition: transform 0.3s;
        }
        .cta-button:hover { transform: scale(1.05); }
        .container { max-width: 1200px; margin: 0 auto; padding: 80px 20px; }
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 40px;
        }
        .feature {
            text-align: center;
            padding: 30px;
            background: #f8f9fa;
            border-radius: 15px;
        }
        .feature h3 { margin: 20px 0; font-size: 1.5rem; }
        .icon { font-size: 4rem; }
        .beneficios { background: #f8f9fa; }
        .beneficios h2 { text-align: center; font-size: 2.5rem; margin-bottom: 50px; }
        .planos { text-align: center; padding: 80px 20px; }
        .plano {
            display: inline-block;
            width: 350px;
            background: white;
            border: 3px solid #667eea;
            border-radius: 20px;
            padding: 40px;
            margin: 20px;
        }
        .plano h3 { font-size: 2rem; margin-bottom: 10px; }
        .preco { font-size: 3rem; color: #667eea; font-weight: bold; margin: 20px 0; }
        .plano ul { list-style: none; text-align: left; margin: 30px 0; }
        .plano li { padding: 10px 0; }
        .plano li:before { content: "‚úì "; color: #667eea; font-weight: bold; }
        
        /* Modal de Registro */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        .modal.active { display: flex; }
        .modal-content {
            background: white;
            padding: 40px;
            border-radius: 20px;
            max-width: 500px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
        }
        .modal-content h2 { margin-bottom: 30px; text-align: center; }
        .form-group { margin-bottom: 20px; }
        .form-group label { display: block; margin-bottom: 5px; font-weight: bold; }
        .form-group input, .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
        }
        .form-group input:focus { border-color: #667eea; outline: none; }
        .btn {
            width: 100%;
            padding: 15px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
        }
        .btn:hover { background: #5568d3; }
        .close { float: right; font-size: 2rem; cursor: pointer; }
        .error { color: red; margin-top: 10px; }
        .success { color: green; margin-top: 10px; }
    </style>
</head>
<body>
    <div class="hero">
        <h1>üîç Encontra Tudo</h1>
        <p>Coloque sua loja no mapa digital.<br>Venda mais sem investir em e-commerce.</p>
        <a href="#" class="cta-button" onclick="abrirModal(); return false;">
            Contrate Nosso Servi√ßo - GR√ÅTIS
        </a>
    </div>

    <div class="container">
        <h2 style="text-align: center; font-size: 2.5rem; margin-bottom: 50px;">
            Como Funciona?
        </h2>
        
        <div class="features">
            <div class="feature">
                <div class="icon">üì±</div>
                <h3>Cadastro Simples</h3>
                <p>Em 5 minutos voc√™ cria sua conta e j√° pode come√ßar a cadastrar produtos.</p>
            </div>
            
            <div class="feature">
                <div class="icon">üì¶</div>
                <h3>Cat√°logo Digital</h3>
                <p>Tenha um cat√°logo online bonito e personalizado com a cara da sua loja.</p>
            </div>
            
            <div class="feature">
                <div class="icon">üéØ</div>
                <h3>Clientes Te Encontram</h3>
                <p>Quando algu√©m buscar seus produtos no Google, sua loja aparece!</p>
            </div>
        </div>
    </div>

    <div class="beneficios">
        <div class="container">
            <h2>Por que escolher o Encontra Tudo?</h2>
            
            <div class="features">
                <div class="feature">
                    <div class="icon">üí∞</div>
                    <h3>Gr√°tis para Come√ßar</h3>
                    <p>Plano gratuito completo para lojas locais. Sem pegadinhas.</p>
                </div>
                
                <div class="feature">
                    <div class="icon">üöÄ</div>
                    <h3>R√°pido e F√°cil</h3>
                    <p>Importa√ß√£o autom√°tica de nota fiscal. Ou cadastro manual super simples.</p>
                </div>
                
                <div class="feature">
                    <div class="icon">üìä</div>
                    <h3>M√©tricas Reais</h3>
                    <p>Veja quantas pessoas encontraram sua loja e visualizaram seus produtos.</p>
                </div>
                
                <div class="feature">
                    <div class="icon">üé®</div>
                    <h3>Personaliz√°vel</h3>
                    <p>Escolha cores, logo e layout. Seu cat√°logo com a identidade da sua marca.</p>
                </div>
                
                <div class="feature">
                    <div class="icon">üìç</div>
                    <h3>Busca Local</h3>
                    <p>Conectamos clientes pr√≥ximos √† sua loja. Venda para quem est√° perto!</p>
                </div>
                
                <div class="feature">
                    <div class="icon">üîí</div>
                    <h3>100% Seguro</h3>
                    <p>Seus dados protegidos. Controle total sobre o que aparece no cat√°logo.</p>
                </div>
            </div>
        </div>
    </div>

    <div class="planos">
        <h2 style="font-size: 2.5rem; margin-bottom: 50px;">Planos e Pre√ßos</h2>
        
        <div class="plano">
            <h3>Gratuito</h3>
            <div class="preco">R$ 0<span style="font-size: 1rem;">/m√™s</span></div>
            <ul>
                <li>At√© 100 produtos</li>
                <li>Cat√°logo online</li>
                <li>Busca no Encontra Tudo</li>
                <li>3 fotos por produto</li>
                <li>Personaliza√ß√£o b√°sica</li>
                <li>Analytics b√°sico</li>
            </ul>
            <a href="#" class="cta-button" onclick="abrirModal(); return false;">
                Come√ßar Gr√°tis
            </a>
        </div>
    </div>

    <!-- Modal de Registro -->
    <div id="modalRegistro" class="modal">
        <div class="modal-content">
            <span class="close" onclick="fecharModal()">&times;</span>
            <h2>Cadastre sua Loja</h2>
            
            <form id="formRegistro">
                <div class="form-group">
                    <label>Nome da Loja *</label>
                    <input type="text" name="nome_loja" required>
                </div>
                
                <div class="form-group">
                    <label>Email *</label>
                    <input type="email" name="email" required>
                </div>
                
                <div class="form-group">
                    <label>Telefone</label>
                    <input type="tel" name="telefone">
                </div>
                
                <div class="form-group">
                    <label>Senha *</label>
                    <input type="password" name="senha" required minlength="6">
                </div>
                
                <div class="form-group">
                    <label>Endere√ßo Completo *</label>
                    <input type="text" name="endereco" required placeholder="Rua, n√∫mero - Bairro">
                </div>
                
                <div class="form-group">
                    <label>Cidade *</label>
                    <input type="text" name="cidade" required>
                </div>
                
                <div class="form-group">
                    <label>Estado *</label>
                    <input type="text" name="estado" required maxlength="2" placeholder="PR">
                </div>
                
                <div class="form-group">
                    <label>CEP</label>
                    <input type="text" name="cep" placeholder="00000-000">
                </div>
                
                <div class="form-group">
                    <label>Latitude * (use Google Maps)</label>
                    <input type="number" step="any" name="latitude" required placeholder="-25.4284">
                </div>
                
                <div class="form-group">
                    <label>Longitude * (use Google Maps)</label>
                    <input type="number" step="any" name="longitude" required placeholder="-49.2733">
                </div>
                
                <div class="form-group">
                    <label>Telefone da Loja *</label>
                    <input type="tel" name="telefone_loja" required>
                </div>
                
                <div class="form-group">
                    <label>WhatsApp</label>
                    <input type="tel" name="whatsapp">
                </div>
                
                <div class="form-group">
                    <label>Hor√°rio de Funcionamento</label>
                    <textarea name="horario_funcionamento" rows="2" placeholder="Seg-Sex: 8h-18h"></textarea>
                </div>
                
                <button type="submit" class="btn">Criar Minha Loja Gr√°tis</button>
                
                <div id="mensagem"></div>
            </form>
        </div>
    </div>

    <script>
        function abrirModal() {
            document.getElementById('modalRegistro').classList.add('active');
        }

        function fecharModal() {
            document.getElementById('modalRegistro').classList.remove('active');
        }

        document.getElementById('formRegistro').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const formData = new FormData(e.target);
            const data = Object.fromEntries(formData.entries());
            
            const mensagem = document.getElementById('mensagem');
            mensagem.innerHTML = '‚è≥ Criando sua loja...';
            mensagem.className = '';
            
            try {
                const response = await fetch('/api/auth/register', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(data)
                });
                
                const result = await response.json();
                
                if (response.ok) {
                    mensagem.className = 'success';
                    mensagem.innerHTML = '‚úÖ Loja criada! Redirecionando...';
                    
                    localStorage.setItem('token', result.token);
                    localStorage.setItem('loja', JSON.stringify(result.loja));
                    
                    setTimeout(() => {
                        window.location.href = '/dashboard';
                    }, 1500);
                } else {
                    mensagem.className = 'error';
                    mensagem.innerHTML = '‚ùå ' + (result.error || 'Erro ao criar loja');
                }
            } catch (error) {
                mensagem.className = 'error';
                mensagem.innerHTML = '‚ùå Erro de conex√£o';
            }
        });
    </script>
</body>
</html>
